/*!
 * Tatami-dialog v0.0.1
 * http://ourai.github.io/tatami/
 *
 * Copyright 2014, 2014 Ourairyu, http://ourai.ws/
 *
 * Date: 2014-12-19
 */

!function(a,b){"object"==typeof module&&"object"==typeof module.exports?module.exports=a.document?b(a,!0):function(a){if(!a.document)throw new Error("Requires a window with a document");return b(a)}:b(a)}("undefined"!=typeof window?window:this,function(){var a,b,c;a=Tatami,b={},c=function(b){return a.i18n("_SystemDialog."+b)};var d,e,f;e=function(d,e,g,h){var i,j;return j=!1,a.isString(d)&&(d=d.toLowerCase(),i=b[d],i||(i=$('<div data-role="dialog" data-type="system" />').appendTo($("body")).on({dialogcreate:initializer("systemDialog"),dialogopen:function(){return $(".ui-dialog-buttonset .ui-button",$(this).closest(".ui-dialog")).each(function(){var b;switch(b=$(this),a.trim(b.text())){case c("title"):d="ok";break;case c("button.cancel"):d="cancel";break;case c("button.yes"):d="yes";break;case c("button.no"):d="no"}return b.addClass("ui-button-"+d)})}}).dialog({title:c("title"),width:400,minHeight:100,closeText:c("button.close"),modal:!0,autoOpen:!1,resizable:!1,closeOnEscape:!1}),b[d]=i,i.closest(".ui-dialog").find(".ui-dialog-titlebar-close").remove()),j=f(d,e,g,h)),j},f=function(d,e,f,g){var h,i,j,k,l;return l=function(b,c){return $(this).dialog("close"),a.isFunction(b)&&b(),c},i=[],h={ok:c("button.ok"),cancel:c("button.cancel"),yes:c("button.yes"),no:c("button.no")},j=b[d],k=$("[data-role='dialog-content']",j),0===k.size()&&(k=j),"confirm"===d?(i.push({text:h.ok,click:function(){return l.apply(this,[f,!0]),!0}}),i.push({text:h.cancel,click:function(){return l.apply(this,[g,!1]),!0}})):"confirmex"===d?(i.push({text:h.yes,click:function(){return l.apply(this,[f,!0]),!0}}),i.push({text:h.no,click:function(){return l.apply(this,[g,!1]),!0}}),i.push({text:h.cancel,click:function(){return l.apply(this,[null,!1]),!0}})):(d="alert",null!==f?i.push({text:h.ok,click:function(){return l.apply(this,[f,!0]),!0}}):i=null),k.html(e||""),j.dialog("option","buttons",i).dialog("open"),j},d=function(a){return a.dialog("destroy")},a.extend({handlers:[{name:"alert",handler:function(a,b){return e("alert",a,b)}},{name:"confirm",handler:function(a,b,c){return e("confirm",a,b,c)}},{name:"confirmEX",handler:function(a,b,c){return e("confirmEX",a,b,c)}},{name:"destroySystemDialogs",handler:function(){var a;return this.isPlainObject(a)&&(this.each(a,function(a){return"function"==typeof d&&d(a),a.remove()}),a={}),this.isEmpty(a)}}]})});
//# sourceMappingURL=tatami-dialog-jquery.min.map